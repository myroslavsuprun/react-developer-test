{"version":3,"file":"static/js/584.c8a1cce1.chunk.js","mappings":"0SAEaA,E,QAAgBC,GAAAA,IAAU,8F,kBCgBjCC,EAAO,qJAYT,OAZS,oCAUXC,qBAAsBC,EAAAA,EAAAA,IAAQ,SAACC,EAAQC,GAAc,OACnDD,EAAOE,MAAK,YAAW,SAARC,SAAwBC,SAAWH,EAAeG,MAAM,GAAC,IACzE,EAuCA,OAvCA,0CAXD,WACE,IAAQC,EAASC,KAAKC,MAAMC,qBAApBH,KAER,GAAIA,EAAM,CACR,IAAQI,EAAYJ,EAAZI,QACRC,SAASC,MAAK,UAAMC,EAAAA,EAAS,cAAMH,EAAQI,KAC7C,CACF,GAAC,oBAMD,WACE,MAAiDP,KAAKC,MAA9CC,EAAoB,EAApBA,qBAAsBP,EAAc,EAAdA,eACtBa,EAA+CN,EAA/CM,UAAWC,EAAoCP,EAApCO,QAASC,EAA2BR,EAA3BQ,UAAWX,EAAgBG,EAAhBH,KAAMY,EAAUT,EAAVS,MAE7C,GAAID,EACF,OAAO,SAAC,KAAM,IAGhB,GAAID,EACF,OAAO,SAAC,KAAK,CAACE,MAAOA,IAGvB,GAAIH,EAAW,CACb,IAAQL,EAAYJ,EAAZI,QACAS,EACNT,EADMS,QAASL,EACfJ,EADeI,KAAMb,EACrBS,EADqBT,OAAQmB,EAC7BV,EAD6BU,MAAOC,EACpCX,EADoCW,YAAaC,EACjDZ,EADiDY,QAASC,EAC1Db,EAD0Da,WAG5D,EAGIhB,KAAKR,oBAAoBE,EAAQC,GAFnCsB,EAAM,EAANA,OACYnB,EAAM,EAAlBD,SAAYC,OAGd,OACE,UAACT,EAAa,YACZ,SAAC,KAAa,CAACkB,KAAMA,EAAMK,QAASA,KACpC,SAAC,KAAkB,CACjBC,MAAOA,EACPC,YAAaA,EACbC,QAASA,EACTC,WAAYA,EACZC,OAAQA,EACRnB,OAAQA,EACRS,KAAMA,MAId,CACF,KAAC,EAnDU,CAASW,EAAAA,eAgGhBC,GAAUC,EAAAA,EAAAA,KANQ,SAAAC,GAGtB,MAAO,CAAE1B,gBAFc2B,EAAAA,EAAAA,GAAqBD,GAG9C,IAIA,GAAeE,EAAAA,EAAAA,IAAQJ,EAASK,EAAAA,GAAhC,CAAoDjC,E","sources":["pages/Product/Product.styled.jsx","pages/Product/Product.jsx"],"sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const GridContainer = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 730px auto;\r\n  gap: 40px;\r\n`;\r\n","import { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport memoize from 'memoize-one';\r\n\r\n// redux\r\nimport { connect } from 'react-redux';\r\nimport { compose } from '@reduxjs/toolkit';\r\nimport { selectActiveCurrency } from 'redux/selectors';\r\n\r\n// hoc\r\nimport { withGetProductById } from 'hoc';\r\n\r\n// components\r\nimport { Error, Loader, ProductDescription, ProductImages } from 'components';\r\nimport { GridContainer } from './Product.styled';\r\n\r\nimport { shopTitle } from 'constants/shopTitle';\r\n\r\nclass Product extends PureComponent {\r\n  componentDidUpdate() {\r\n    const { data } = this.props.getProductByIdStatus;\r\n\r\n    if (data) {\r\n      const { product } = data;\r\n      document.title = `${shopTitle} | ${product.name}`;\r\n    }\r\n  }\r\n\r\n  memoizedActivePrice = memoize((prices, activeCurrency) =>\r\n    prices.find(({ currency }) => currency.symbol === activeCurrency.symbol)\r\n  );\r\n\r\n  render() {\r\n    const { getProductByIdStatus, activeCurrency } = this.props;\r\n    const { isSuccess, isError, isLoading, data, error } = getProductByIdStatus;\r\n\r\n    if (isLoading) {\r\n      return <Loader />;\r\n    }\r\n\r\n    if (isError) {\r\n      return <Error error={error} />;\r\n    }\r\n\r\n    if (isSuccess) {\r\n      const { product } = data;\r\n      const { gallery, name, prices, brand, description, inStock, attributes } =\r\n        product;\r\n\r\n      const {\r\n        amount,\r\n        currency: { symbol },\r\n      } = this.memoizedActivePrice(prices, activeCurrency);\r\n\r\n      return (\r\n        <GridContainer>\r\n          <ProductImages name={name} gallery={gallery} />\r\n          <ProductDescription\r\n            brand={brand}\r\n            description={description}\r\n            inStock={inStock}\r\n            attributes={attributes}\r\n            amount={amount}\r\n            symbol={symbol}\r\n            name={name}\r\n          />\r\n        </GridContainer>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nProduct.propTypes = {\r\n  getProductByIdStatus: PropTypes.shape({\r\n    data: PropTypes.shape({\r\n      product: PropTypes.shape({\r\n        attributes: PropTypes.arrayOf(\r\n          PropTypes.shape({\r\n            id: PropTypes.string.isRequired,\r\n            name: PropTypes.string.isRequired,\r\n            type: PropTypes.oneOf(['swatch', 'text']).isRequired,\r\n            items: PropTypes.arrayOf(\r\n              PropTypes.shape({\r\n                displayValue: PropTypes.string.isRequired,\r\n                value: PropTypes.string.isRequired,\r\n                id: PropTypes.string.isRequired,\r\n              })\r\n            ),\r\n          })\r\n        ),\r\n        brand: PropTypes.string.isRequired,\r\n        description: PropTypes.string.isRequired,\r\n        gallery: PropTypes.array.isRequired,\r\n        inStock: PropTypes.bool.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        prices: PropTypes.arrayOf(\r\n          PropTypes.shape({\r\n            amount: PropTypes.number.isRequired,\r\n            currency: PropTypes.shape({\r\n              symbol: PropTypes.string.isRequired,\r\n            }),\r\n          })\r\n        ),\r\n      }),\r\n    }),\r\n  }),\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  const activeCurrency = selectActiveCurrency(state);\r\n\r\n  return { activeCurrency };\r\n};\r\n\r\nconst enhance = connect(mapStateToProps);\r\n\r\nexport default compose(enhance, withGetProductById)(Product);\r\n"],"names":["GridContainer","styled","Product","memoizedActivePrice","memoize","prices","activeCurrency","find","currency","symbol","data","this","props","getProductByIdStatus","product","document","title","shopTitle","name","isSuccess","isError","isLoading","error","gallery","brand","description","inStock","attributes","amount","PureComponent","enhance","connect","state","selectActiveCurrency","compose","withGetProductById"],"sourceRoot":""}